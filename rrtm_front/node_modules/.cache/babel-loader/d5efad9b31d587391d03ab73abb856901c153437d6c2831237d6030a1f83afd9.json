{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\resta\\\\Desktop\\\\rrtm\\\\rrtm_front\\\\rrtm_front\\\\src\\\\components\\\\Header\\\\UserProfile.js\",\n  _s = $RefreshSig$();\n// UserProfile.js\nimport React, { useState, useEffect } from \"react\";\nimport { ReactComponent as LogoutIcon } from \"../../assets/header/log-out-outline.svg\";\nimport { ReactComponent as NotificationIcon } from \"../../assets/header/notifications-outline.svg\";\nimport { ReactComponent as WeaknessIcon } from \"../../assets/header/bug-outline.svg\";\nimport { ReactComponent as FeedbackIcon } from \"../../assets/header/chatbox-ellipses-outline.svg\";\nimport \"./UserProfile.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../../pages/loginPage/AuthContext\";\nimport defaultUserImage from \"../../assets/header/person-circle-outline.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserProfile() {\n  _s();\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const navigate = useNavigate();\n  const {\n    user,\n    logout\n  } = useAuth();\n\n  // Function to handle clicks outside the menu\n  const handleClickOutside = event => {\n    if (!event.target.closest(\".userProfile\")) {\n      setIsMenuOpen(false);\n      setIsOverlayVisible(false);\n    }\n  };\n  useEffect(() => {\n    document.addEventListener(\"click\", handleClickOutside);\n    return () => document.removeEventListener(\"click\", handleClickOutside);\n  }, [isMenuOpen]);\n  const toggleMenu = () => {\n    if (user !== null && user !== void 0 && user.username) {\n      setIsMenuOpen(!isMenuOpen);\n      setIsOverlayVisible(!isOverlayVisible);\n    } else {\n      navigate(\"/login\"); // Reindirizza alla pagina di login se l'utente non è autenticato\n    }\n  };\n  const [isOverlayVisible, setIsOverlayVisible] = useState(false);\n  const handleLogout = () => {\n    logout();\n    navigate(\"/login\"); // Dopo il logout, reindirizza alla pagina di login\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"userProfile\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: user ? user.userImage : defaultUserImage,\n        alt: \"profile\",\n        className: \"userImage\",\n        onClick: toggleMenu\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"profileMenu\",\n        className: isMenuOpen ? \"open\" : \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"username\",\n          children: [\"Ciao, \", user === null || user === void 0 ? void 0 : user.username, \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"hr1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"preferenzeNotifiche\",\n          children: [/*#__PURE__*/_jsxDEV(NotificationIcon, {\n            className: \"notificationIcon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Notifiche e Preferenze\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"hr1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"inserimentoFeedback\",\n          children: [/*#__PURE__*/_jsxDEV(FeedbackIcon, {\n            className: \"feedbackIcon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Inserisci Feedback\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"segnalazioneVulnerabilita\",\n          children: [/*#__PURE__*/_jsxDEV(WeaknessIcon, {\n            className: \"weaknessIcon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Segnala Vulnerabilit\\xE0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"hr1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"logout\",\n          onClick: handleLogout,\n          children: [/*#__PURE__*/_jsxDEV(LogoutIcon, {\n            className: \"logoutIcon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"overlay\",\n      className: isOverlayVisible ? \"open\" : \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n_s(UserProfile, \"7R3mt7jUKiodjSMWfk8LbndBqJo=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = UserProfile;\nexport default UserProfile;\nvar _c;\n$RefreshReg$(_c, \"UserProfile\");","map":{"version":3,"names":["React","useState","useEffect","ReactComponent","LogoutIcon","NotificationIcon","WeaknessIcon","FeedbackIcon","useNavigate","useAuth","defaultUserImage","jsxDEV","_jsxDEV","UserProfile","_s","isMenuOpen","setIsMenuOpen","navigate","user","logout","handleClickOutside","event","target","closest","setIsOverlayVisible","document","addEventListener","removeEventListener","toggleMenu","username","isOverlayVisible","handleLogout","children","className","src","userImage","alt","onClick","fileName","_jsxFileName","lineNumber","columnNumber","id","_c","$RefreshReg$"],"sources":["C:/Users/resta/Desktop/rrtm/rrtm_front/rrtm_front/src/components/Header/UserProfile.js"],"sourcesContent":["// UserProfile.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { ReactComponent as LogoutIcon } from \"../../assets/header/log-out-outline.svg\";\r\nimport { ReactComponent as NotificationIcon } from \"../../assets/header/notifications-outline.svg\";\r\nimport { ReactComponent as WeaknessIcon } from \"../../assets/header/bug-outline.svg\";\r\nimport { ReactComponent as FeedbackIcon } from \"../../assets/header/chatbox-ellipses-outline.svg\";\r\nimport \"./UserProfile.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"../../pages/loginPage/AuthContext\";\r\nimport defaultUserImage from \"../../assets/header/person-circle-outline.svg\";\r\n\r\nfunction UserProfile() {\r\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n    const navigate = useNavigate();\r\n    const { user, logout } = useAuth();\r\n    \r\n    // Function to handle clicks outside the menu\r\n    const handleClickOutside = (event) => {\r\n        if (!event.target.closest(\".userProfile\")) {\r\n            setIsMenuOpen(false);\r\n            setIsOverlayVisible(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"click\", handleClickOutside);\r\n\r\n        return () => document.removeEventListener(\"click\", handleClickOutside);\r\n    }, [isMenuOpen]);\r\n\r\n    const toggleMenu = () => {\r\n        if (user?.username) {\r\n            setIsMenuOpen(!isMenuOpen);\r\n            setIsOverlayVisible(!isOverlayVisible);\r\n        } else {\r\n            navigate(\"/login\"); // Reindirizza alla pagina di login se l'utente non è autenticato\r\n        }\r\n    };\r\n    const [isOverlayVisible, setIsOverlayVisible] = useState(false);\r\n\r\n    const handleLogout = () => {\r\n        logout();\r\n        navigate(\"/login\"); // Dopo il logout, reindirizza alla pagina di login\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"userProfile\">\r\n                <img\r\n                    src={user ? user.userImage : defaultUserImage}\r\n                    alt=\"profile\"\r\n                    className=\"userImage\"\r\n                    onClick={toggleMenu}\r\n                />\r\n                <div id=\"profileMenu\" className={isMenuOpen ? \"open\" : \"\"}>\r\n                    <h3 className=\"username\">Ciao, {user?.username}!</h3>\r\n                    <hr className=\"hr1\" />\r\n                    <button id=\"preferenzeNotifiche\">\r\n                        <NotificationIcon className=\"notificationIcon\"></NotificationIcon>\r\n                        <h3>Notifiche e Preferenze</h3>\r\n                    </button>\r\n                    <hr className=\"hr1\" />\r\n                    <button id=\"inserimentoFeedback\">\r\n                        <FeedbackIcon className=\"feedbackIcon\" />\r\n                        <h3>Inserisci Feedback</h3>\r\n                    </button>\r\n                    <button id=\"segnalazioneVulnerabilita\">\r\n                        <WeaknessIcon className=\"weaknessIcon\" />\r\n                        <h3>Segnala Vulnerabilità</h3>\r\n                    </button>\r\n                    <hr className=\"hr1\" />\r\n                    <button id=\"logout\" onClick={handleLogout}>\r\n                        <LogoutIcon className=\"logoutIcon\" />\r\n                        <h3>Logout</h3>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div id=\"overlay\" className={isOverlayVisible ? \"open\" : \"\"}></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserProfile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}